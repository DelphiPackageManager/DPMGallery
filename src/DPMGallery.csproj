<?xml version="1.0" encoding="utf-8"?>
<Project Sdk="Microsoft.NET.Sdk.Web">
	<PropertyGroup>
		<TargetFramework>net5.0</TargetFramework>
		<UserSecretsId>9349f87f-b33c-4d94-8cb0-323611dd333b</UserSecretsId>
		<StartupObject>DPMGallery.Program</StartupObject>
		<ApplicationIcon />
		<OutputType>Exe</OutputType>
	</PropertyGroup>
	<PropertyGroup>
		<RuntimeIdentifiers>win10-x64;linux-x64</RuntimeIdentifiers>
	</PropertyGroup>
	<ItemGroup>
		<PackageReference Include="AspNet.Security.OAuth.GitHub" Version="5.0.15" />
		<PackageReference Include="AspNetCoreRateLimit" Version="4.0.1" />
		<PackageReference Include="AWSSDK.S3" Version="3.7.3.12" />
		<PackageReference Include="AWSSDK.SecurityToken" Version="3.7.1.69" />
		<PackageReference Include="BlushingPenguin.JsonPath" Version="1.0.3" />
		<PackageReference Include="Dapper" Version="2.0.90" />
		<PackageReference Include="Dapper.Contrib" Version="2.0.78" />
		<PackageReference Include="FluentMigrator" Version="3.3.1" />
		<PackageReference Include="FluentMigrator.Runner" Version="3.3.1" />
		<PackageReference Include="FluentMigrator.Runner.Postgres" Version="3.3.1" />
		<PackageReference Include="Google.Cloud.Storage.V1" Version="3.6.0" />
		<PackageReference Include="HtmlSanitizer" Version="6.0.441" />
		<PackageReference Include="MailKit" Version="2.15.0" />
		<PackageReference Include="Markdig" Version="0.26.0" />
		<PackageReference Include="Microsoft.AspNetCore.Authentication.Facebook" Version="5.0.10" />
		<PackageReference Include="Microsoft.AspNetCore.Authentication.Google" Version="5.0.10" />
		<PackageReference Include="Microsoft.AspNetCore.Authentication.MicrosoftAccount" Version="5.0.10" />
		<PackageReference Include="Microsoft.AspNetCore.Authentication.OAuth" Version="2.2.0" />
		<PackageReference Include="Microsoft.AspNetCore.Identity.UI" Version="5.0.10" />
		<PackageReference Include="Microsoft.AspNetCore.Mvc.Razor.RuntimeCompilation" Version="5.0.10" />
		<PackageReference Include="Microsoft.AspNetCore.Routing" Version="2.2.2" />
		<PackageReference Include="Microsoft.Extensions.DependencyInjection" Version="5.0.2" />
		<PackageReference Include="Microsoft.Extensions.Hosting.Systemd" Version="5.0.1" />
		<PackageReference Include="Microsoft.VisualStudio.Web.CodeGeneration.Design" Version="5.0.2" />
		<PackageReference Include="nClam" Version="6.0.1" />
		<PackageReference Include="Npgsql" Version="5.0.10" />
		<PackageReference Include="NuGet.Versioning" Version="5.11.0" />
		<PackageReference Include="Serilog.AspNetCore" Version="4.1.0" />
		<PackageReference Include="Serilog.Formatting.Compact" Version="1.1.1-dev-00940" />
	</ItemGroup>
	<ItemGroup>
		<Folder Include="Configuration\RateLimiting\" />
		<Folder Include="Statistics\" />
		<Folder Include="Serialization\" />
		<Folder Include="Pages\" />
	</ItemGroup>
	<ItemGroup>
	  <Compile Remove="Repositories\SearchRepository1.cs" />
	</ItemGroup>
	<ItemGroup>
	  <Content Remove="wwwroot\css\tailwind.css" />
	</ItemGroup>
	<ItemGroup>
	  <None Remove="postcss.config.js" />
	</ItemGroup>
	<ItemGroup>
	  <None Include="wwwroot\css\tailwind.css" />
	</ItemGroup>
	<ItemGroup>
		<UpToDateCheckBuilt Include="wwwroot/css/tailwind.css" Set="Css" />
		<UpToDateCheckBuilt Include="postcss.config.js" Set="Css" />
	</ItemGroup>
	<ItemGroup>
	  <None Update="DPMGallery.service">
	    <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
	  </None>
	</ItemGroup>

	<Target Name="Tailwind" BeforeTargets="Build">
		<Exec Command="npm run css:build" />
	</Target>

	<ProjectExtensions><VisualStudio><UserProperties NpmRestoreOnProjectOpen="True" /></VisualStudio></ProjectExtensions>
</Project>